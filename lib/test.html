<html>
<head>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="iffy.js"></script>
  <script type="text/javascript">
    $(document).ready( function() {
      $$ = iffy();
      $$.matchers.push( function(m){ if(m instanceof String) jQuery(m) ? 1 : -1 } )
      
      $$.sig('initial');
      $$.sig('showing_foo', 'h1-says-foo');
      $$.sig('showing_bar', 'h1-says-foo');
      
      $$.sig('h1-says-foo', '#h1>foo');   // what is the actual jquery syntax for this?
      $$.sig('h1-says-bar', '#h1>bar');
      
      $$.guard('foo', 'initial', show_foo);
      $$.guard('bar', 'showing_foo', show_bar);
    });
    
    function show_foo(){ $('h1').value('foo'); }
    function show_bar(){ $('h1').value('bar'); }
  </script>
</head>
<body>

<button onclick="$$.do('foo');">Do Foo</button>
<button onclick="$$.do('bar');">Do Bar</button>

<h1 id="to_change">Initial</h1>
</body>
</html>
